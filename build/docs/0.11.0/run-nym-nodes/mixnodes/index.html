<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.4">
<title data-react-helmet="true">Mixnodes | Nym Docs</title><meta data-react-helmet="true" property="og:url" content="https://nymtech.net/docs/0.11.0/run-nym-nodes/mixnodes"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="0.11.0"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-0.11.0"><meta data-react-helmet="true" property="og:title" content="Mixnodes | Nym Docs"><meta data-react-helmet="true" name="description" content="Mixnodes accept Sphinx packets, shuffle packets together, and forward them onwards, providing strong privacy for internet users."><meta data-react-helmet="true" property="og:description" content="Mixnodes accept Sphinx packets, shuffle packets together, and forward them onwards, providing strong privacy for internet users."><link data-react-helmet="true" rel="shortcut icon" href="/img/docs/FAVICON.png"><link data-react-helmet="true" rel="canonical" href="https://nymtech.net/docs/0.11.0/run-nym-nodes/mixnodes"><link data-react-helmet="true" rel="alternate" href="https://nymtech.net/docs/0.11.0/run-nym-nodes/mixnodes" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://nymtech.net/docs/0.11.0/run-nym-nodes/mixnodes" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.a0560233.css">
<link rel="preload" href="/assets/js/runtime~main.eaa180ac.js" as="script">
<link rel="preload" href="/assets/js/main.ce1a70fd.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://nymtech.net" target="_blank" rel="noopener noreferrer" class="navbar__brand"><img src="/img/docs/FAVICON.png" alt="Nym Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/docs/FAVICON.png" alt="Nym Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Nym</b></a><a class="navbar__item navbar__link" href="/docs/0.11.0/overview/index">Docs</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__item navbar__link" href="/docs/0.11.0/overview/index">v0.11.0</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/current/run-nym-nodes/mixnodes">ðŸš§ current ðŸš§</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/0.11.0/run-nym-nodes/mixnodes">v0.11.0</a></li></ul></div><a href="https://github.com/nymtech" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT" style="margin-left:1px">â˜½</span></div><div class="react-toggle-track-x"><span class="toggle_71bT" style="margin-left:1px">â˜¼</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button" title="Scroll to top"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Overview</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Run Nym Nodes</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.11.0/run-nym-nodes/index">Run Nym Nodes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.11.0/run-nym-nodes/incentives">Incentives</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.11.0/run-nym-nodes/build-nym">Building Nym</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/0.11.0/run-nym-nodes/mixnodes">Mixnodes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.11.0/run-nym-nodes/validators">Validators</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.11.0/run-nym-nodes/requester">Requesters</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.11.0/run-nym-nodes/gateways">Gateways</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.11.0/run-nym-nodes/troubleshooting">Mixnode Troubleshooting FAQ</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Use Apps</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Build Apps</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Community</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><span class="badge badge--secondary">Version: v0.11.0</span><div class="tocCollapsible_1PrD tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="markdown"><header><h1 class="h1Heading_27L5">Mixnodes</h1></header><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>The Nym mixnode was built in the <a href="/docs/0.11.0/run-nym-nodes/build-nym/">building nym</a> section. If you haven&#x27;t yet built Nym and want to run the code, go there first.</p></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="running-a-mixnode-for-the-first-time"></a>Running a mixnode for the first time<a class="hash-link" href="#running-a-mixnode-for-the-first-time" title="Direct link to heading">#</a></h3><p>After your build is finished, the <code>nym-mixnode</code> binary will be located in <code>/path/to/nym/target/release/</code> directory. You may move or copy it to wherever you wish (for example, you may wish to compile your binaries once locally and then move them to different machines).</p><p>Alternatively, you can fetch the binaries from our <a href="https://github.com/nymtech/nym/releases" target="_blank" rel="noopener noreferrer">releases page</a>.</p><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><p>Please note that unless you ran a mixnode in the Finney testnet, <strong>you will not be able to get PUNKs and bond your mixnode for the Milhon testnet</strong>.
Instead please look into <a href="https://medium.com/nymtech/nym-delegated-staking-reputation-rewards-and-community-selection-bf0f346f7301" target="_blank" rel="noopener noreferrer">delegated staking</a> for how you can get involved. </p></div></div><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><p>If you <strong>do</strong> delegate your PUNKs to others and shut down your node, remember to <strong>save the keys located in <code>$HOME/.nym</code>!</strong></p></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="upgrading-your-mixnode-from-an-earlier-version"></a>Upgrading your mixnode from an earlier version<a class="hash-link" href="#upgrading-your-mixnode-from-an-earlier-version" title="Direct link to heading">#</a></h3><p>If you have already been running a node on the Nym network <code>v0.10.0</code> or <code>0.10.1</code>, grab the new binaries from our <a href="https://github.com/nymtech/nym/releases" target="_blank" rel="noopener noreferrer">releases page</a> and use the <code>upgrade</code> command to upgrade your configs in place.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">./nym-mixnode upgrade --id your-node-id</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Claim your mixnode in the new testnet by following the steps in the &#x27;Claim your mixnode in Telegram to receive tokens&#x27; section below. </p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="initialize-your-mixnode"></a>Initialize your mixnode<a class="hash-link" href="#initialize-your-mixnode" title="Direct link to heading">#</a></h3><p>Here&#x27;s how you initialize a mixnode if you are running one locally for testing, or just curious:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">./nym-mixnode init --id winston-smithnode --host </span><span class="token variable" style="color:#36acaa">$(</span><span class="token variable function" style="color:#d73a49">curl</span><span class="token variable" style="color:#36acaa"> ifconfig.me</span><span class="token variable" style="color:#36acaa">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>To participate in the Nym testnet, <code>--host</code> must be publicly routable on the internet. It can be either an Ipv4 or IPv6 address. Your node <em>must</em> be able to send TCP data using <em>both</em> IPv4 and IPv6 (as other nodes you talk to may use either protocol). The <code>$(curl ifconfig.me)</code> command above returns your IP automatically using an external service.</p><p>You can install <code>curl</code> with:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">apt-get</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">curl</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Alternatively, you can enter your IP manually wish. If you do this, remember to enter your IP <strong>without</strong> any port information.</p><p>You can pick any <code>--id</code> you want.</p><p>The <code>init</code> command will refuse to destroy existing mixnode keys.</p><p>During the <code>init</code> process you will have the option to change the <code>http_api</code>, <code>verloc</code> and <code>mixnode</code> ports from their default settings. If you wish to change these in the future you can edit their values in the <code>config.toml</code> file created by the initialization process, which is located at <code>~/.nym/mixnodes/&lt;your-id&gt;/</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="claim-your-mixnode-in-telegram-to-receive-tokens"></a>Claim your mixnode in Telegram to receive tokens<a class="hash-link" href="#claim-your-mixnode-in-telegram-to-receive-tokens" title="Direct link to heading">#</a></h3><p>In order to take part in Testnet Milhon each mixnode operator needs to get PUNK, and bond them in the blockchain. </p><p>Go to the <a href="https://testnet-milhon-wallet.nymtech.net/" target="_blank" rel="noopener noreferrer">Milhon Testnet web wallet</a> and create a Nym address. It will look something like <code>punk1rytmasg5kavx4xasa0zg0u69jus8fn0r5j7nnt</code>. <strong>Be sure to write down your mnemonic!</strong></p><p>Once you have a Nym testnet address, ask the Telegram bot for tokens. Run the <code>sign</code> command:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">./nym-mixnode sign --id winston-smithnode --text </span><span class="token string" style="color:#e3116c">&quot;@&lt;YOUR_TELEGRAM_USERNAME&gt; &lt;YOUR_PUNK_WALLET_ADDRESS&gt;&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      _ __  _   _ _ __ ___</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;_ \| | | | &#x27;</span><span class="token plain">_ </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"> _ </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">_</span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">_</span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">_</span><span class="token operator" style="color:#393A34">|</span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain">__, </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">_</span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">_</span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">_</span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">___/</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">             </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">mixnode - version </span><span class="token number" style="color:#36acaa">0.11</span><span class="token plain">.0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span></span><span class="token-line" style="color:#393A34"><span class="token plain">Signing the text </span><span class="token string" style="color:#e3116c">&quot;@winston_smithnode_telegram punk1rytmasg5kavx4xasa0zg0u69jus8fn0r5j7nnt&quot;</span><span class="token plain"> using your mixnode</span><span class="token string" style="color:#e3116c">&#x27;s Ed25519 identity key...</span></span><span class="token-line" style="color:#393A34"><span class="token string" style="display:inline-block;color:#e3116c">
</span></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">Signature is: 3Zo2uMmK5x1WcMQWfqrd9MWw3N4updUBsAPM4tejfWMfMjS55jxsjyMXZ2pwBCJbhvBxkREBJ8R9ED2UcMRJprrU</span></span><span class="token-line" style="color:#393A34"><span class="token string" style="display:inline-block;color:#e3116c">
</span></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">You can claim your mixnode in Telegram by talking to our bot. To do so:</span></span><span class="token-line" style="color:#393A34"><span class="token string" style="display:inline-block;color:#e3116c">
</span></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">* go to the &#x27;</span><span class="token plain">https://t.me/nympunkbot&#x27; channel</span></span><span class="token-line" style="color:#393A34"><span class="token plain">* copy the following line of text, and </span><span class="token function" style="color:#d73a49">paste</span><span class="token plain"> it into the channel</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">/transfer punk1rytmasg5kavx4xasa0zg0u69jus8fn0r5j7nnt 3Zo2uMmK5x1WcMQWfqrd9MWw3N4updUBsAPM4tejfWMfMjS55jxsjyMXZ2pwBCJbhvBxkREBJ8R9ED2UcMRJprrU</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Then enter the <strong><a href="https://t.me/nympunkbot" target="_blank" rel="noopener noreferrer">@nympunkbot</a></strong> channel on Telegram and talk to the bot to associate your Telegram username with your mixnode key:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">/transfer punk1rytmasg5kavx4xasa0zg0u69jus8fn0r5j7nnt 3Zo2uMmK5x1WcMQWfqrd9MWw3N4updUBsAPM4tejfWMfMjS55jxsjyMXZ2pwBCJbhvBxkREBJ8R9ED2UcMRJprrU</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>This proves to the bot that your username owns the mixnode. </p><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><p><strong>Do not send tokens to <code>punk10pyejy66429refv3g35g2t7am0was7yalwrzen</code> thinking this is your address - this is the address of the mixnet smart contract</strong>.</p></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="run-your-mixnode"></a>Run your mixnode<a class="hash-link" href="#run-your-mixnode" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">./nym-mixnode run --id winston-smithnode</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Should return a nice clean startup:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      _ __  _   _ _ __ ___</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;_ \| | | | &#x27;</span><span class="token plain">_ </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"> _ </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">_</span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">_</span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">_</span><span class="token operator" style="color:#393A34">|</span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain">__, </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">_</span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">_</span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">_</span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">___/</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">             </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">mixnode - version </span><span class="token number" style="color:#36acaa">0.11</span><span class="token plain">.0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span></span><span class="token-line" style="color:#393A34"><span class="token plain">Starting mixnode winston-smithnode</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Validator servers: </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;http://testnet-milhon-validator1.nymtech.net:1317&quot;</span><span class="token plain">, </span><span class="token string" style="color:#e3116c">&quot;http://testnet-milhon-validator2.nymtech.net:1317&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">Listening </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> incoming packets on </span><span class="token number" style="color:#36acaa">89.144</span><span class="token plain">.210.254</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Announcing the following address: </span><span class="token number" style="color:#36acaa">89.144</span><span class="token plain">.210.254</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">To bond your mixnode, go to https://testnet-milhon-wallet.nymtech.net/.  You will need to provide the following:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Identity key: D5yLugjknoZ8gwEjQVvFSVckNPur6qYLSPFsKJcZUruR</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Sphinx key: Fh7BjMTYv4KAzXjoFzsz3PUpJ2wT2i6fsSTDQQuJ916Y</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Address: </span><span class="token number" style="color:#36acaa">89.144</span><span class="token plain">.210.254</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Version: </span><span class="token number" style="color:#36acaa">0.11</span><span class="token plain">.0</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">2021</span><span class="token plain">-07-21T13:31:34.672Z INFO  nym_mixnode::node </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> Starting nym mixnode</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">2021</span><span class="token plain">-07-21T13:31:35.083Z INFO  nym_mixnode::node </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> Starting node stats controller</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">2021</span><span class="token plain">-07-21T13:31:35.084Z INFO  nym_mixnode::node </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> Starting packet delay-forwarder</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">2021</span><span class="token plain">-07-21T13:31:35.084Z INFO  nym_mixnode::node </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> Starting socket listener</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">2021</span><span class="token plain">-07-21T13:31:35.084Z INFO  nym_mixnode::node::listener </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> Running mix listener on </span><span class="token string" style="color:#e3116c">&quot;89.144.210.254:1789&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">2021</span><span class="token plain">-07-21T13:31:35.084Z INFO  nym_mixnode::node           </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> Starting the round-trip-time measurer</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Now bond your mixnode in the <a href="https://testnet-milhon-wallet.nymtech.net/" target="_blank" rel="noopener noreferrer">Milhon web wallet</a> before running your node. </p><p>If everything worked, you&#x27;ll see your node running on the <a href="https://testnet-milhon-explorer.nymtech.net" target="_blank" rel="noopener noreferrer">Milhon network explorer</a>.</p><p>Note that your node&#x27;s public identity key is displayed during startup, you can use it to identify your node in the list.</p><p>Keep reading to find out more about configuration options or troubleshooting if you&#x27;re having issues. There are also some tips for running on AWS and other cloud providers, some of which require minor additional setup.</p><p>Have a look at the saved configuration files to see more configuration options.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="configure-your-firewall"></a>Configure your firewall<a class="hash-link" href="#configure-your-firewall" title="Direct link to heading">#</a></h3><p>The following commands will allow you to set up a firewall using <code>ufw</code>.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># check if you have ufw installed</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">ufw version</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># if it is not installed, install with</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">apt</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> ufw -y</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># enable ufw</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> ufw </span><span class="token builtin class-name">enable</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># check the status of the firewall</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> ufw status</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Finally open your mixnode&#x27;s p2p port, as well as ports for ssh, http, and https connections, and ports <code>8000</code> and <code>1790</code> for verloc and measurement pings:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> ufw allow </span><span class="token number" style="color:#36acaa">1789,1790</span><span class="token plain">,8000,22,80,443/tcp</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># check the status of the firewall</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> ufw status</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>For more information about your mixnode&#x27;s port configuration, check the <a href="#mixnode-port-reference">mixnode port reference table</a> below.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="describe-your-mixnode-optional"></a>Describe your mixnode (optional)<a class="hash-link" href="#describe-your-mixnode-optional" title="Direct link to heading">#</a></h3><p>In order to easily identify your node via human-readable information later on in the development of the testnet when delegated staking is implemented, you can <code>describe</code> your mixnode with the following command:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">./nym-mixnode describe --id winston-smithnode</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Which will output something like this:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      _ __  _   _ _ __ ___</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;_ \| | | | &#x27;</span><span class="token plain">_ </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"> _ </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">_</span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">_</span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">_</span><span class="token operator" style="color:#393A34">|</span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain">__, </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">_</span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">_</span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">_</span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">___/</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">             </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">mixnode - version </span><span class="token number" style="color:#36acaa">0.11</span><span class="token plain">.0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">name: winston-smithnode</span></span><span class="token-line" style="color:#393A34"><span class="token plain">description: nym-mixnode hosted on Linode VPS </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">location</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> with the following specs: </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">specs</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">link, e.g. https://mixnode.yourdomain.com: mixnode.mydomain.net</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>This information will be shown in a (not yet built) mixnode page in in the Network Explorer, and help people make delegated staking decisions.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="automating-your-mixnode-with-systemd"></a>Automating your mixnode with systemd<a class="hash-link" href="#automating-your-mixnode-with-systemd" title="Direct link to heading">#</a></h3><p>Although it&#x27;s not totally necessary, it&#x27;s useful to have the mixnode automatically start at system boot time. Here&#x27;s a systemd service file to do that:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ini"><pre tabindex="0" class="prism-code language-ini codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">[Unit]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Description=Nym Mixnode (0.11.0)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">StartLimitInterval=350</span></span><span class="token-line" style="color:#393A34"><span class="token plain">StartLimitBurst=10</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">[Service]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">User=nym</span></span><span class="token-line" style="color:#393A34"><span class="token plain">LimitNOFILE=65536</span></span><span class="token-line" style="color:#393A34"><span class="token plain">ExecStart=/home/nym/nym-mixnode run --id mix0100</span></span><span class="token-line" style="color:#393A34"><span class="token plain">KillSignal=SIGINT</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Restart=on-failure</span></span><span class="token-line" style="color:#393A34"><span class="token plain">RestartSec=30</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">[Install]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">WantedBy=multi-user.target</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Put the above file onto your system at <code>/etc/systemd/system/nym-mixnode.service</code>.</p><p>Change the path in <code>ExecStart</code> to point at your mixnode binary (<code>nym-mixnode</code>), and the <code>User</code> so it is the user you are running as.</p><p>If you have built nym on your server, and your username is <code>jetpanther</code>, then the start command might look like this:</p><p><code>ExecStart=/home/jetpanther/nym/target/release/nym-mixnode run --id your-id</code>. Basically, you want the full <code>/path/to/nym-mixnode run --id whatever-your-node-id-is</code></p><p>Then run:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">systemctl </span><span class="token builtin class-name">enable</span><span class="token plain"> nym-mixnode.service</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Start your node:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">service</span><span class="token plain"> nym-mixnode start</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>This will cause your node to start at system boot time. If you restart your machine, the node will come back up automatically.</p><p>You can also do <code>service nym-mixnode stop</code> or <code>service nym-mixnode restart</code>.</p><p>Note: if you make any changes to your systemd script after you&#x27;ve enabled it, you will need to run:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">systemctl daemon-reload</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>This lets your operating system know it&#x27;s ok to reload the service configuration.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="set-the-ulimit"></a>Set the ulimit<a class="hash-link" href="#set-the-ulimit" title="Direct link to heading">#</a></h4><p>Linux machines limit how many open files a user is allowed to have. This is called a <code>ulimit</code>.</p><p><code>ulimit</code> is 1024 by default on most systems. It needs to be set higher, because mixnodes make and receive a lot of connections to other nodes.</p><p>If you see errors such as:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">Failed to accept incoming connection - Os </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> code: </span><span class="token number" style="color:#36acaa">24</span><span class="token plain">, kind: Other, message: </span><span class="token string" style="color:#e3116c">&quot;Too many open files&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>This means that the operating system is preventing network connections from being made.</p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="set-the-ulimit-via-systemd-service-file"></a>Set the ulimit via <code>systemd</code> service file<a class="hash-link" href="#set-the-ulimit-via-systemd-service-file" title="Direct link to heading">#</a></h5><p>Query the <code>ulimit</code> of your mixnode with:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">grep</span><span class="token plain"> -i </span><span class="token string" style="color:#e3116c">&quot;open files&quot;</span><span class="token plain"> /proc/</span><span class="token variable" style="color:#36acaa">$(</span><span class="token variable function" style="color:#d73a49">ps</span><span class="token variable" style="color:#36acaa"> -A -o pid,cmd</span><span class="token variable operator" style="color:#393A34">|</span><span class="token variable function" style="color:#d73a49">grep</span><span class="token variable" style="color:#36acaa"> nym-mixnode </span><span class="token variable operator" style="color:#393A34">|</span><span class="token variable" style="color:#36acaa"> </span><span class="token variable function" style="color:#d73a49">grep</span><span class="token variable" style="color:#36acaa"> -v </span><span class="token variable function" style="color:#d73a49">grep</span><span class="token variable" style="color:#36acaa"> </span><span class="token variable operator" style="color:#393A34">|</span><span class="token variable function" style="color:#d73a49">head</span><span class="token variable" style="color:#36acaa"> -n </span><span class="token variable number" style="color:#36acaa">1</span><span class="token variable" style="color:#36acaa"> </span><span class="token variable operator" style="color:#393A34">|</span><span class="token variable" style="color:#36acaa"> </span><span class="token variable function" style="color:#d73a49">awk</span><span class="token variable" style="color:#36acaa"> </span><span class="token variable string" style="color:#e3116c">&#x27;{print </span><span class="token variable string variable" style="color:#36acaa">$1</span><span class="token variable string" style="color:#e3116c">}&#x27;</span><span class="token variable" style="color:#36acaa">)</span><span class="token plain">/limits</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>You&#x27;ll get back the hard and soft limits, which looks something like this:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">Max </span><span class="token function" style="color:#d73a49">open</span><span class="token plain"> files            </span><span class="token number" style="color:#36acaa">65536</span><span class="token plain">                </span><span class="token number" style="color:#36acaa">65536</span><span class="token plain">                files</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>If your output is <strong>the same as above</strong>, your node will not encounter any <code>ulimit</code> related issues.</p><p>However if either value is <code>1024</code>, you must raise the limit via the systemd service file. Add the line:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token assign-left variable" style="color:#36acaa">LimitNOFILE</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">65536</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Reload the daemon:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">systemctl daemon-reload</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>or execute this as root for system-wide setting of <code>ulimit</code>:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;DefaultLimitNOFILE=65535&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;&gt;</span><span class="token plain"> /etc/systemd/system.conf</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Reboot your machine and restart your node. When it comes back, use <code>cat /proc/$(pidof nym-mixnode)/limits | grep &quot;Max open files&quot;</code> to make sure the limit has changed to 65535.</p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="set-the-ulimit-on-non-systemd-based-distributions"></a>Set the ulimit on <code>non-systemd</code> based distributions<a class="hash-link" href="#set-the-ulimit-on-non-systemd-based-distributions" title="Direct link to heading">#</a></h5><p>Edit <code>etc/security/conf</code> and add the following lines:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Example hard limit for max opened files</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">username        hard nofile </span><span class="token number" style="color:#36acaa">4096</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Example soft limit for max opened files</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">username        soft nofile </span><span class="token number" style="color:#36acaa">4096</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Then reboot your server and restart your mixnode.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="checking-that-your-node-is-mixing-correctly"></a>Checking that your node is mixing correctly<a class="hash-link" href="#checking-that-your-node-is-mixing-correctly" title="Direct link to heading">#</a></h3><p>Once you&#x27;ve started your mixnode and it connects to the testnet validator, your node will automatically show up in the <a href="https://testnet-milhon-explorer.nymtech.net/" target="_blank" rel="noopener noreferrer">Nym testnet explorer</a>, or checkout the <a href="https://nodes.guru/nym/leaderboard" target="_blank" rel="noopener noreferrer">leaderboard interface</a> created by community member Evgeny Garanin from <a href="https://nodes.guru" target="_blank" rel="noopener noreferrer">Nodes Guru</a>.</p><p>For more details see <a href="https://nymtech.net/docs/run-nym-nodes/troubleshooting/#how-can-i-tell-my-node-is-up-and-running-and-mixing-traffic" target="_blank" rel="noopener noreferrer">Troubleshooting FAQ</a></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="viewing-command-help"></a>Viewing command help<a class="hash-link" href="#viewing-command-help" title="Direct link to heading">#</a></h3><p>See all available options by running:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">./nym-mixnode --help</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Subcommand help is also available, e.g.:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">./nym-mixnode upgrade --help</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="virtual-ips-and-hosting-via-google--aws"></a>Virtual IPs and hosting via Google &amp; AWS<a class="hash-link" href="#virtual-ips-and-hosting-via-google--aws" title="Direct link to heading">#</a></h3><p>On some services (AWS, Google, etc), the machine&#x27;s available bind address is not the same as the public IP address. In this case, bind <code>--host</code> to the local machine address returned by <code>ifconfig</code>, but also specify <code>--announce-host</code> with the public IP. Please make sure that you pass the correct, routable <code>--announce-host</code>.</p><p>For example, on a Google machine, you may see the following output from the <code>ifconfig</code> command:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">ens4: </span><span class="token assign-left variable" style="color:#36acaa">flags</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">416</span><span class="token operator file-descriptor important" style="color:#393A34">3</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">UP,BROADCAST,RUNNING,MULTICAST</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">  mtu </span><span class="token number" style="color:#36acaa">1460</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        inet </span><span class="token number" style="color:#36acaa">10.126</span><span class="token plain">.5.7  netmask </span><span class="token number" style="color:#36acaa">255.255</span><span class="token plain">.255.255  broadcast </span><span class="token number" style="color:#36acaa">0.0</span><span class="token plain">.0.0</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The <code>ens4</code> interface has the IP <code>10.126.5.7</code>. But this isn&#x27;t the public IP of the machine, it&#x27;s the IP of the machine on Google&#x27;s internal network. Google uses virtual routing, so the public IP of this machine is something else, maybe <code>36.68.243.18</code>.</p><p><code>nym-mixnode init --host 10.126.5.7</code>, initializes the mixnode, but no packets will be routed because <code>10.126.5.7</code> is not on the public internet.</p><p>Trying <code>nym-mixnode init --host 36.68.243.18</code>, you&#x27;ll get back a startup error saying <code>AddrNotAvailable</code>. This is because the mixnode doesn&#x27;t know how to bind to a host that&#x27;s not in the output of <code>ifconfig</code>.</p><p>The right thing to do in this situation is <code>nym-mixnode init --host 10.126.5.7 --announce-host 36.68.243.18</code>.</p><p>This will bind the mixnode to the available host <code>10.126.5.7</code>, but announce the mixnode&#x27;s public IP to the directory server as <code>36.68.243.18</code>. It&#x27;s up to you as a node operator to ensure that your public and private IPs match up properly.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="mixnode-hardware-specs"></a>Mixnode Hardware Specs<a class="hash-link" href="#mixnode-hardware-specs" title="Direct link to heading">#</a></h3><p>For the moment, we haven&#x27;t put a great amount of effort into optimizing concurrency to increase throughput. So don&#x27;t bother provisioning a beastly server with multiple cores.</p><ul><li>Processors: 2 cores are fine. Get the fastest CPUs you can afford.</li><li>RAM: Memory requirements are very low - typically a mixnode may use only a few hundred MB of RAM.</li><li>Disks: The mixnodes require no disk space beyond a few bytes for the configuration files</li></ul><p>This will change when we get a chance to start doing performance optimizations in a more serious way. Sphinx packet decryption is CPU-bound, so once we optimise, more fast cores will be better.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="metrics"></a>Metrics<a class="hash-link" href="#metrics" title="Direct link to heading">#</a></h3><p>There are currently two options for getting information about your mixnode. <code>description</code> and <code>verloc</code> are accessed via your mixnode&#x27;s http API, whilst <code>report</code> and <code>history</code> are reported by the Nym node status API.</p><table><thead><tr><th>Endpoint</th><th>Description</th><th>Command</th></tr></thead><tbody><tr><td><code>/report</code></td><td>Returns the most recent node status test report</td><td><code>curl https://testnet-milhon-validator1.nymtech.net/api/v1/status/mixnode/&lt;YOUR_NODE_ID&gt;/report</code></td></tr><tr><td><code>/history</code></td><td>Returns all previous test reports</td><td><code>curl https://testnet-milhon-validator1.nymtech.net/api/v1/status/mixnode/&lt;YOUR_NODE_ID&gt;/history</code></td></tr><tr><td><code>/description</code></td><td>Returns the description of your node set with the <code>describe</code> command.</td><td><code>curl &lt;YOUR_NODE_IP&gt;:8000/description</code></td></tr><tr><td><code>/verloc</code></td><td>Returns the verloc information of your node, which is updated every 12 hours.</td><td><code>curl &lt;YOUR_NODE_IP&gt;:8000/verloc</code></td></tr></tbody></table><p>There several metrics of interest returned by <code>/report</code> regarding your mixnode&#x27;s uptime and package-mixing capabilities:</p><ul><li><code>mostRecentIPV4</code>: returns a <code>bool</code> for whether the most recent IPv4 connectivity test was successful.</li><li><code>last5MinutesIPV4</code>: returns IPv4 connectivity as a percentage over the last five minutes.</li><li><code>lastHourIPV4</code>: returns IPv4 connectivity as a percentage over the last hour.</li><li><code>lastDayIPV4</code>: returns IPv4 connectivity as a percentage over the 24 hours.</li><li><code>mostRecentIPV6</code>: returns a <code>bool</code> for whether the most recent IPv6 connectivity test was successful.</li><li><code>last5MinutesIPV6</code>: returns IPv6 connectivity as a percentage over the last five minutes.</li><li><code>lastHourIPV6</code>: returns IPv6 connectivity as a percentage over the last hour.</li><li><code>lastDayIPV6</code>: returns IPv6 connectivity as a percentage over the 24 hours.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="mixnode-port-reference"></a>Mixnode port reference<a class="hash-link" href="#mixnode-port-reference" title="Direct link to heading">#</a></h3><p>All mixnode-specific port configuration can be found in <code>$HOME/.nym/mixnodes/&lt;your-id&gt;/config/config.toml</code>. If you do edit any port configs, remember to restart your mixnode.</p><table><thead><tr><th>Default port</th><th>Use</th></tr></thead><tbody><tr><td><code>1789</code></td><td>Listen for mixnet traffic</td></tr><tr><td><code>1790</code></td><td>Listen for VerLoc traffic</td></tr><tr><td><code>8000</code></td><td>Metrics http API endpoint</td></tr></tbody></table></div><footer class="row docusaurus-mt-lg"><div class="col"></div><div class="col lastUpdated_3DPF">Last updated on <b><time datetime="2021-08-19T17:06:55.000Z">8/19/2021</time></b></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/0.11.0/run-nym-nodes/build-nym"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Building Nym</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/0.11.0/run-nym-nodes/validators"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Validators Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#running-a-mixnode-for-the-first-time" class="table-of-contents__link">Running a mixnode for the first time</a></li><li><a href="#upgrading-your-mixnode-from-an-earlier-version" class="table-of-contents__link">Upgrading your mixnode from an earlier version</a></li><li><a href="#initialize-your-mixnode" class="table-of-contents__link">Initialize your mixnode</a></li><li><a href="#claim-your-mixnode-in-telegram-to-receive-tokens" class="table-of-contents__link">Claim your mixnode in Telegram to receive tokens</a></li><li><a href="#run-your-mixnode" class="table-of-contents__link">Run your mixnode</a></li><li><a href="#configure-your-firewall" class="table-of-contents__link">Configure your firewall</a></li><li><a href="#describe-your-mixnode-optional" class="table-of-contents__link">Describe your mixnode (optional)</a></li><li><a href="#automating-your-mixnode-with-systemd" class="table-of-contents__link">Automating your mixnode with systemd</a></li><li><a href="#checking-that-your-node-is-mixing-correctly" class="table-of-contents__link">Checking that your node is mixing correctly</a></li><li><a href="#viewing-command-help" class="table-of-contents__link">Viewing command help</a></li><li><a href="#virtual-ips-and-hosting-via-google--aws" class="table-of-contents__link">Virtual IPs and hosting via Google &amp; AWS</a></li><li><a href="#mixnode-hardware-specs" class="table-of-contents__link">Mixnode Hardware Specs</a></li><li><a href="#metrics" class="table-of-contents__link">Metrics</a></li><li><a href="#mixnode-port-reference" class="table-of-contents__link">Mixnode port reference</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><ul class="footer__items"><li class="footer__item"><a href="https://nymtech.net/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://keybase.io/team/nymtech.friends" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Keybase<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><ul class="footer__items"><li class="footer__item"><a href="https://github.com/nymtech" target="_blank" rel="noopener noreferrer" class="footer__link-item" position="right"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://t.me/nymchan" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Telegram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><ul class="footer__items"><li class="footer__item"><a href="https://twitter.com/nymproject/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://medium.com/nymtech" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"></div></div></footer></div>
<script src="/assets/js/runtime~main.eaa180ac.js"></script>
<script src="/assets/js/main.ce1a70fd.js"></script>
</body>
</html>
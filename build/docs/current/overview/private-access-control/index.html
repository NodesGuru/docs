<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.4">
<title data-react-helmet="true">Coconut | Nym Docs</title><meta data-react-helmet="true" property="og:url" content="https://nymtech.net/docs/current/overview/private-access-control"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Coconut | Nym Docs"><meta data-react-helmet="true" name="description" content="Nym ensures access control privacy using a sophisticated signature scheme called Coconut."><meta data-react-helmet="true" property="og:description" content="Nym ensures access control privacy using a sophisticated signature scheme called Coconut."><link data-react-helmet="true" rel="shortcut icon" href="/img/docs/FAVICON.png"><link data-react-helmet="true" rel="canonical" href="https://nymtech.net/docs/current/overview/private-access-control"><link data-react-helmet="true" rel="alternate" href="https://nymtech.net/docs/current/overview/private-access-control" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://nymtech.net/docs/current/overview/private-access-control" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.a0560233.css">
<link rel="preload" href="/assets/js/runtime~main.eaa180ac.js" as="script">
<link rel="preload" href="/assets/js/main.ce1a70fd.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://nymtech.net" target="_blank" rel="noopener noreferrer" class="navbar__brand"><img src="/img/docs/FAVICON.png" alt="Nym Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/docs/FAVICON.png" alt="Nym Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Nym</b></a><a class="navbar__item navbar__link" href="/docs/0.11.0/overview/index">Docs</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__item navbar__link" href="/docs/current/overview/index">ðŸš§ current ðŸš§</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/current/overview/private-access-control">ðŸš§ current ðŸš§</a></li><li><a class="dropdown__link" href="/docs/0.11.0/overview/private-access-control">v0.11.0</a></li></ul></div><a href="https://github.com/nymtech" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT" style="margin-left:1px">â˜½</span></div><div class="react-toggle-track-x"><span class="toggle_71bT" style="margin-left:1px">â˜¼</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button" title="Scroll to top"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Overview</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/current/overview/index">The Nym Platform</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/current/overview/nym-platform">Network Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/current/overview/network-privacy">Network Privacy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/current/overview/nym-other-systems">Nym vs other systems</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/current/overview/private-access-control">Coconut</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/current/overview/links">Links</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Run Nym Nodes</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Use Apps</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Build Apps</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Community</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for Nym Docs <b>ðŸš§ current ðŸš§</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/docs/0.11.0/overview/private-access-control">latest version</a></b> (v0.11.0).</div></div><div class="docItemContainer_33ec"><article><span class="badge badge--secondary">Version: ðŸš§ current ðŸš§</span><div class="tocCollapsible_1PrD tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="markdown"><header><h1 class="h1Heading_27L5">Coconut</h1></header><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="introducing-coconut"></a>Introducing Coconut<a class="hash-link" href="#introducing-coconut" title="Direct link to heading">#</a></h3><p>Coconut is a cryptographic signature scheme that produces privacy-enhanced credentials. It lets application programmers who are concerned with resource access control to think and code in a new way.</p><p>Most of the time, when we build system security, we think of <em>who</em> questions:</p><ul><li>Has Alice identified herself (authentication)?</li><li>Is Alice allowed to take a specific action (authorisation)?</li></ul><p>Coconut fundamentally changes these questions. Rather than asking <em>who</em> a user is, it allows application designers to ask different questions, mostly centered around questions of <em>rights</em>:</p><ul><li>Does the entity taking this action have a right to do X?</li></ul><p>This allows a different kind of security. Many of the computer systems we talk to every day don&#x27;t need to know <em>who we are</em>, they only need to know if we have a <em>right to use</em> the system. Coconut allows signing authorities and validators to work together to determine whether a given private key holder has a right to take an action. The credentials are generated cooperatively by decentralised, trustless systems.</p><p>Once the credentials are generated, they can be <em>re-randomized:</em> entirely new credentials, which no one has ever seen before, can be presented to service providers, and magically validated without being linkable back to the credential originally given out by validators.</p><p>These properties allow Coconut credentials to act as something like a decentralized and fully private version of OAuth credentials, or like cryptographic bearer tokens generated by decentralised systems. The tokens can be mutated so that they are not traceable, but still verified with the original permissions intact.</p><p>Users present cryptographic claims encoded inside the credentials to get secure access to resources despite the systems verifying credential usage not being able to know who they are.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="re-randomisation-vs-pseudonymity"></a>Re-randomisation vs pseudonymity<a class="hash-link" href="#re-randomisation-vs-pseudonymity" title="Direct link to heading">#</a></h3><p>We stand on the shoulders of giants. Ten years ago, Bitcoin showed the way forward by allowing people to control resource access without recourse to <em>who</em> questions. Rather, in Bitcoin and succeeding blockchains, a private key proves a <em>right to use</em>.</p><p>But as we can now see, private keys in blockchain systems act only as a minor barrier to finding out <em>who</em> is accessing resources. A Bitcoin or Ethereum private key is effectively a long-lived pseudonym which is easily traceable through successive transactions.</p><p>Coconut allows us to build truly private systems rather than pseudonymous ones.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="how-does-coconut-work"></a>How does Coconut work?<a class="hash-link" href="#how-does-coconut-work" title="Direct link to heading">#</a></h3><p>Just like normal credentials, Nym&#x27;s Coconut credentials can be signed with a secret key and later verified by anybody with the correct public key. But Nym credentials have additional superpowers when compared to &quot;normal&quot; signature schemes like RSA or DSA.</p><p>Specifically, Coconut is a blinded, re-randomizable, selective disclosure threshold credential signature scheme. That&#x27;s quite a mouthful, so let&#x27;s break it down into its component parts.</p><p>Let&#x27;s say you have a <code>message</code> with the content <code>This credential controls controls X</code> in hand. In addition to the normal <code>sign(message, secretKey)</code> and <code>verify(message, publicKey)</code> functions present in other signature schemes, Coconut adds the following:</p><ol><li><p><em><a href="https://en.wikipedia.org/wiki/Blind_signature" target="_blank" rel="noopener noreferrer">Blind signatures</a></em> - disguises message content so that the signer can&#x27;t see what they&#x27;re signing. This defends users against signers: the entity that signed can&#x27;t identify the user who created a given credential, since they&#x27;ve never seen the message they&#x27;re signing before it&#x27;s been <em>blinded</em> (turned into gobbledygook). Coconut uses zero-knowledge proofs so that the signer can sign confidently without seeing the unblinded content of the message.</p></li><li><p><em>Re-randomizable signatures</em> - take a signature, and generate a brand new signature that is valid for the same underlying message <code>This credential controls X</code>. The new bitstring in the re-randomized signature is equivalent to the original signature but not linkable to it. So a user can &quot;show&quot; a credential multiple times, and each time it appears to be a new credential, which is unlinkable to any previous &quot;show&quot;. But the underlying content of the re-randomized credential is the same (including for things like double-spend protection). This once again protects the user against the signer, because the signer can&#x27;t trace the signed message that they gave back to the user when it is presented. It also protects the user against the relying party that accepts the signed credential. The user can show re-randomized credentials repeatedly, and although the underlying message is the same in all cases, there&#x27;s no way of tracking them by watching the user present the same credential multiple times.</p></li><li><p><em>Selective disclosure of attributes</em> - allows someone with the public key to verify some, but not all, parts of a message. So you could for instance selectively reveal parts of a signed message to some people, but not to others. This is a very powerful property of Coconut, potentially leading to diverse applications: voting systems, selective revelation of medical data, privacy-friendly KYC systems, etc.</p></li><li><p><em><a href="https://en.wikipedia.org/wiki/Threshold_cryptosystem" target="_blank" rel="noopener noreferrer">Threshold issuance</a></em> - allows signature generation to be split up across multiple nodes and decentralized, so that either all signers need to sign (<em>n of n</em> where <em>n</em> is the number of signers) or only a threshold number of signers need to sign a message (<em>t of n</em> where <em>t</em> is the threshold value).</p></li></ol><p>Taken together, these properties provide privacy for applications when it comes to generating and using signatures for cryptographic claims. If you compare it to existing tech, you might think of it as a sort of supercharged decentralized privacy-friendly <a href="https://jwt.io/" target="_blank" rel="noopener noreferrer">JWT</a>.</p><p>A slightly expanded view of Coconut is available <a href="https://medium.com/nymtech/nyms-coconut-credentials-an-overview-4aa4e922cd51" target="_blank" rel="noopener noreferrer">in this blog post</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="using-coconut-for-blockchain-transaction-privacy"></a>Using Coconut for blockchain transaction privacy<a class="hash-link" href="#using-coconut-for-blockchain-transaction-privacy" title="Direct link to heading">#</a></h3><p>In the context of a blockchain currency system, Coconut allows us to create a privacy-enhanced Coconut credential which provably represents an amount under control of a given entity. The credential can then be &quot;spent&quot; anonymously, as if it were the original value. Double-spending protections apply to the credential, so it can only be spent once. Nym Validators can then unlock the value so it can be redeemed by the party holding the credential.</p><p>Although there&#x27;s still work to be done to integrate it against various blockchains, in principle Coconut can anonymise blockchain transactions in any system which provides multi-sig. We&#x27;re working on <a href="https://cosmos.network" target="_blank" rel="noopener noreferrer">Cosmos</a> integration at the moment. Bitcoin and Ethereum are also obvious targets here.</p><p>Coconut is simple and flexible, and can ensure privacy for more than coin transfers; it can provide privacy for more complex smart contracts as well.</p><p>Finally, it should be mentioned that Coconut can be applied to both blockchain and non-blockchain systems - it&#x27;s a general purpose technology.</p></div><footer class="row docusaurus-mt-lg"><div class="col"></div><div class="col lastUpdated_3DPF">Last updated on <b><time datetime="2021-08-19T17:05:56.000Z">8/19/2021</time></b></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/current/overview/nym-other-systems"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Nym vs other systems</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/current/overview/links"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Links Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introducing-coconut" class="table-of-contents__link">Introducing Coconut</a></li><li><a href="#re-randomisation-vs-pseudonymity" class="table-of-contents__link">Re-randomisation vs pseudonymity</a></li><li><a href="#how-does-coconut-work" class="table-of-contents__link">How does Coconut work?</a></li><li><a href="#using-coconut-for-blockchain-transaction-privacy" class="table-of-contents__link">Using Coconut for blockchain transaction privacy</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><ul class="footer__items"><li class="footer__item"><a href="https://nymtech.net/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://keybase.io/team/nymtech.friends" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Keybase<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><ul class="footer__items"><li class="footer__item"><a href="https://github.com/nymtech" target="_blank" rel="noopener noreferrer" class="footer__link-item" position="right"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://t.me/nymchan" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Telegram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><ul class="footer__items"><li class="footer__item"><a href="https://twitter.com/nymproject/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://medium.com/nymtech" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"></div></div></footer></div>
<script src="/assets/js/runtime~main.eaa180ac.js"></script>
<script src="/assets/js/main.ce1a70fd.js"></script>
</body>
</html>
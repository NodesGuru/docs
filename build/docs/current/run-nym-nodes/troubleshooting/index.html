<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.4">
<title data-react-helmet="true">Mixnode Troubleshooting FAQ | Nym Docs</title><meta data-react-helmet="true" property="og:url" content="https://nymtech.net/docs/current/run-nym-nodes/troubleshooting"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Mixnode Troubleshooting FAQ | Nym Docs"><meta data-react-helmet="true" name="description" content="This page will help you find answers to common issues with setting up and maintaining mixnodes"><meta data-react-helmet="true" property="og:description" content="This page will help you find answers to common issues with setting up and maintaining mixnodes"><link data-react-helmet="true" rel="shortcut icon" href="/img/docs/FAVICON.png"><link data-react-helmet="true" rel="canonical" href="https://nymtech.net/docs/current/run-nym-nodes/troubleshooting"><link data-react-helmet="true" rel="alternate" href="https://nymtech.net/docs/current/run-nym-nodes/troubleshooting" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://nymtech.net/docs/current/run-nym-nodes/troubleshooting" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.a0560233.css">
<link rel="preload" href="/assets/js/runtime~main.eaa180ac.js" as="script">
<link rel="preload" href="/assets/js/main.ce1a70fd.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://nymtech.net" target="_blank" rel="noopener noreferrer" class="navbar__brand"><img src="/img/docs/FAVICON.png" alt="Nym Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/docs/FAVICON.png" alt="Nym Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Nym</b></a><a class="navbar__item navbar__link" href="/docs/0.11.0/overview/index">Docs</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__item navbar__link" href="/docs/current/overview/index">ðŸš§ current ðŸš§</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/current/run-nym-nodes/troubleshooting">ðŸš§ current ðŸš§</a></li><li><a class="dropdown__link" href="/docs/0.11.0/run-nym-nodes/troubleshooting">v0.11.0</a></li></ul></div><a href="https://github.com/nymtech" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT" style="margin-left:1px">â˜½</span></div><div class="react-toggle-track-x"><span class="toggle_71bT" style="margin-left:1px">â˜¼</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button" title="Scroll to top"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Overview</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Run Nym Nodes</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/current/run-nym-nodes/index">Run Nym Nodes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/current/run-nym-nodes/incentives">Incentives</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/current/run-nym-nodes/build-nym">Building Nym</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/current/run-nym-nodes/mixnodes">Mixnodes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/current/run-nym-nodes/validators">Validators</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/current/run-nym-nodes/requester">Requesters</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/current/run-nym-nodes/gateways">Gateways</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/current/run-nym-nodes/troubleshooting">Mixnode Troubleshooting FAQ</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Use Apps</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Build Apps</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Community</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for Nym Docs <b>ðŸš§ current ðŸš§</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/docs/0.11.0/run-nym-nodes/troubleshooting">latest version</a></b> (v0.11.0).</div></div><div class="docItemContainer_33ec"><article><span class="badge badge--secondary">Version: ðŸš§ current ðŸš§</span><div class="tocCollapsible_1PrD tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="markdown"><header><h1 class="h1Heading_27L5">Mixnode Troubleshooting FAQ</h1></header><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="how-can-i-tell-my-node-is-up-and-running-and-mixing-traffic"></a>How can I tell my node is up and running and mixing traffic?<a class="hash-link" href="#how-can-i-tell-my-node-is-up-and-running-and-mixing-traffic" title="Direct link to heading">#</a></h3><p>First of all check the &#x27;Mixnodes&#x27; section of the testnet <a href="https://testnet-milhon-explorer.nymtech.net/" target="_blank" rel="noopener noreferrer">dashboard</a> and enter your <strong>identity key</strong>, and you should see your node. Alternatively you can check the <a href="https://nodes.guru/nym/leaderboard" target="_blank" rel="noopener noreferrer">leaderboard interface</a> created by community member Evgeny Garanin from <a href="https://nodes.guru" target="_blank" rel="noopener noreferrer">Nodes Guru</a>.</p><p>If you want more information, or if your node isn&#x27;t showing up and you want to double-check, here are some examples on how to check if the node is configured properly.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="check-from-your-vps"></a>Check from your VPS<a class="hash-link" href="#check-from-your-vps" title="Direct link to heading">#</a></h4><p>Additional details can be obtained via various methods after you connect to your VPS:</p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="socket-statistics-with-ss"></a>Socket statistics with <code>ss</code><a class="hash-link" href="#socket-statistics-with-ss" title="Direct link to heading">#</a></h5><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> ss -s -t </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">grep</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1789</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># if you have specified a different port in your mixnode config, change accordingly</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>This command should return a lot of data containing <code>ESTAB</code>. This command should work on every unix based system.</p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="list-open-files-and-reliant-processes-with-lsof"></a>List open files and reliant processes with <code>lsof</code><a class="hash-link" href="#list-open-files-and-reliant-processes-with-lsof" title="Direct link to heading">#</a></h5><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># check if lsof is installed:</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">lsof</span><span class="token plain"> -v</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># install if not installed</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">apt</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">lsof</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># run against mixnode port</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">lsof</span><span class="token plain"> -i TCP:1789 </span><span class="token comment" style="color:#999988;font-style:italic"># if you have specified a different port in your mixnode config, change accordingly</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>This command should return something like this:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">nym-mixno </span><span class="token number" style="color:#36acaa">103349</span><span class="token plain"> root   53u  IPv6 </span><span class="token number" style="color:#36acaa">1333229972</span><span class="token plain">      0t0  TCP </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">2a03:b0c0:3:d0::ff3:f001</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">:57844-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">2a01:4f9:c011:38ae::5</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">:1789 </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ESTABLISHED</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">nym-mixno </span><span class="token number" style="color:#36acaa">103349</span><span class="token plain"> root   54u  IPv4 </span><span class="token number" style="color:#36acaa">1333229973</span><span class="token plain">      0t0  TCP nym:57104-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token number" style="color:#36acaa">194.5</span><span class="token plain">.78.73:1789 </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ESTABLISHED</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">nym-mixno </span><span class="token number" style="color:#36acaa">103349</span><span class="token plain"> root   55u  IPv4 </span><span class="token number" style="color:#36acaa">1333229974</span><span class="token plain">      0t0  TCP nym:48130-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">static.236.109.119.168.clients.your-server.de:1789 </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ESTABLISHED</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">nym-mixno </span><span class="token number" style="color:#36acaa">103349</span><span class="token plain"> root   56u  IPv4 </span><span class="token number" style="color:#36acaa">1333229975</span><span class="token plain">      0t0  TCP nym:52548-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">vmi572614.contaboserver.net:1789 </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ESTABLISHED</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">nym-mixno </span><span class="token number" style="color:#36acaa">103349</span><span class="token plain"> root   57u  IPv6 </span><span class="token number" style="color:#36acaa">1333229976</span><span class="token plain">      0t0  TCP </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">2a03:b0c0:3:d0::ff3:f001</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">:43244-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2600</span><span class="token plain">:1f18:1031:2401:c04b:2f25:ca79:fef3</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">:1789 </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ESTABLISHED</span><span class="token punctuation" style="color:#393A34">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="query-systemd-journal-with-journalctl"></a>Query <code>systemd</code> journal with <code>journalctl</code><a class="hash-link" href="#query-systemd-journal-with-journalctl" title="Direct link to heading">#</a></h5><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> journalctl -u nym-mixnode -o </span><span class="token function" style="color:#d73a49">cat</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">grep</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Since startup mixed&quot;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>If you have created <code>nym-mixnode.service</code> file (i.e. you are running your mixnode via <code>systemd</code>) then this command shows you how many packets have you mixed so far, and should return a list of messages like this:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token number" style="color:#36acaa">2021</span><span class="token plain">-05-18T12:35:24.057Z INFO  nym_mixnode::node::metrics                      </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> Since startup mixed </span><span class="token number" style="color:#36acaa">233639</span><span class="token plain"> packets</span><span class="token operator" style="color:#393A34">!</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2021</span><span class="token plain">-05-18T12:38:02.178Z INFO  nym_mixnode::node::metrics                      </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> Since startup mixed </span><span class="token number" style="color:#36acaa">233739</span><span class="token plain"> packets</span><span class="token operator" style="color:#393A34">!</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2021</span><span class="token plain">-05-18T12:40:32.344Z INFO  nym_mixnode::node::metrics                      </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> Since startup mixed </span><span class="token number" style="color:#36acaa">233837</span><span class="token plain"> packets</span><span class="token operator" style="color:#393A34">!</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2021</span><span class="token plain">-05-18T12:46:08.549Z INFO  nym_mixnode::node::metrics                      </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> Since startup mixed </span><span class="token number" style="color:#36acaa">234081</span><span class="token plain"> packets</span><span class="token operator" style="color:#393A34">!</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2021</span><span class="token plain">-05-18T12:56:57.129Z INFO  nym_mixnode::node::metrics                      </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> Since startup mixed </span><span class="token number" style="color:#36acaa">234491</span><span class="token plain"> packets</span><span class="token operator" style="color:#393A34">!</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>You can add <code> | tail</code> to the end of the command to watch for new entries in real time if needed.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="check-from-your-local-machine"></a>Check from your local machine<a class="hash-link" href="#check-from-your-local-machine" title="Direct link to heading">#</a></h4><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="scan-ports-with-nmap"></a>Scan ports with <code>nmap</code>:<a class="hash-link" href="#scan-ports-with-nmap" title="Direct link to heading">#</a></h5><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">nmap -p </span><span class="token number" style="color:#36acaa">1789</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">IP ADDRESS</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> -Pn</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>If your mixnode is configured properly it should output something like this:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">bob@desktop:~$ nmap -p 1789 95.296.134.220 -Pn</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Host is up (0.053s latency).</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">PORT     STATE SERVICE</span></span><span class="token-line" style="color:#393A34"><span class="token plain">1789/tcp open  hello</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="query-all-nodes-and-parse-with-jq"></a>Query all nodes and parse with <code>jq</code>:<a class="hash-link" href="#query-all-nodes-and-parse-with-jq" title="Direct link to heading">#</a></h5><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> https://testnet-milhon-explorer.nymtech.net/data/mixnodes.json </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> jq</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Should return a JSON object of all nodes currently online.</p><p>This command can be further parsed by various keys, such as location:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> https://testnet-milhon-explorer.nymtech.net/data/mixnodes.json </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> jq -r </span><span class="token string" style="color:#e3116c">&#x27;.[].mix_node | select(.location == &quot;London&quot;)&#x27;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>or address:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">curl https://testnet-milhon-explorer.nymtech.net/data/mixnodes.json | jq -r &#x27;.[].mix_node | select(.host | startswith(&quot;65.21&quot;)) | .host&#x27;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="check-with-testnet-api"></a>Check with testnet API<a class="hash-link" href="#check-with-testnet-api" title="Direct link to heading">#</a></h4><p>We currently have an API set up returning our metrics tests of the network. There are two endpoints to ping for information about your mixnode, <code>report</code> and <code>history</code>. Find more information about this in the <a href="/docs/current/run-nym-nodes/docs/current/run-nym-nodes/mixnodes">Mixnodes metrics documentation</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="why-is-my-node-not-mixing-any-packets"></a>Why is my node not mixing any packets?<a class="hash-link" href="#why-is-my-node-not-mixing-any-packets" title="Direct link to heading">#</a></h3><p>If you are still unable to see your node on the <a href="https://testnet-milhon-explorer.nymtech.net/" target="_blank" rel="noopener noreferrer">dashboard</a>, or your node is declaring it has not mixed any packets, there are several potential issues:</p><ul><li>The firewall on your host machine is not configured properly.</li><li>You provided incorrect information when bonding your node via the <a href="https://testnet-milhon-wallet.nymtech.net/" target="_blank" rel="noopener noreferrer">web wallet</a></li><li>You are running your mixnode from a VPS without IPv6 support.</li><li>You did not use the <code>--announce-host</code> flag while running the mixnode from your local machine behind NAT.</li><li>You did not configure your router firewall while running the mixnode from your local machine behind NAT, or you are lacking IPv6 support.</li><li>Your mixnode is not running at all, it has either exited / panicked or you closed the session without making the node persistent.</li></ul><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><p>Your mixnode <strong>must speak both IPv4 and IPv6</strong> in order to cooperate with other nodes and route traffic. This is a common reason behind many errors we are seeing among node operators, so check with your provider that your VPS is able to do this!</p></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="incorrectly-configured-firewall"></a>Incorrectly configured firewall<a class="hash-link" href="#incorrectly-configured-firewall" title="Direct link to heading">#</a></h4><p>The most common reason your mixnode might not be mixing packets is due to a poorly configured firewall. The following commands will allow you to set up a firewall using <code>ufw</code>.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># check if you have ufw installed</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">ufw version</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># if it is not installed, install with</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">apt</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> ufw -y</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># enable ufw</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> ufw </span><span class="token builtin class-name">enable</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># check the status of the firewall</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> ufw status</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Finally open your mixnode&#x27;s p2p port, as well as ports for ssh, http, and https connections, and ports <code>8000</code> and <code>1790</code> for verloc and measurement pings:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> ufw allow </span><span class="token number" style="color:#36acaa">1789,1790</span><span class="token plain">,8000,22,80,443/tcp</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># check the status of the firewall</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> ufw status</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="incorrect-bonding-information"></a>Incorrect bonding information<a class="hash-link" href="#incorrect-bonding-information" title="Direct link to heading">#</a></h4><p>Check that you have provided the correct information when bonding your mixnode in the web wallet <a href="https://testnet-milhon-wallet.nymtech.net/" target="_blank" rel="noopener noreferrer">interface</a>. When in doubt, unbond and then rebond your node!</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="missing-announce-host-flag"></a>Missing <code>announce-host</code> flag<a class="hash-link" href="#missing-announce-host-flag" title="Direct link to heading">#</a></h4><p>On certain cloud providers such as AWS and Google Cloud, you need to do some additional configuration of your firewall and use <code>--host</code> with your <strong>local ip</strong> and <code>--announce-host</code> with the <strong>public ip</strong> of your mixnode host.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="no-ipv6-connectivity"></a>No IPv6 connectivity<a class="hash-link" href="#no-ipv6-connectivity" title="Direct link to heading">#</a></h4><p>Make sure that your VPS has IPv6 connectivity available with whatever provider you are using.</p><p>To get all ip addresses of your host, try following commands:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">hostname</span><span class="token plain"> -i</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Will return your <strong>local ip</strong> address.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">hostname</span><span class="token plain"> -I</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Will return all of the ip addresses of your host. This output should look something like this:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">bob@nym:~$ </span><span class="token function" style="color:#d73a49">hostname</span><span class="token plain"> -I</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">88.36</span><span class="token plain">.11.23 </span><span class="token number" style="color:#36acaa">172.18</span><span class="token plain">.0.1 2a01:28:ca:102::1:641</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ul><li>The first <strong>ipv4</strong> is the public ip you need to use for the <code>--announce-host</code> flag.</li><li>The second <strong>ipv4</strong> is the local ip you need to use for the <code>--host</code> flag.</li><li>The 3rd output should confirm if your machine has ipv6 available.</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="running-on-a-local-machine-behind-nat-with-no-fixed-ip-address"></a>Running on a local machine behind NAT with no fixed IP address<a class="hash-link" href="#running-on-a-local-machine-behind-nat-with-no-fixed-ip-address" title="Direct link to heading">#</a></h4><p>Your ISP has to be IPv6 ready if you want to run a mixnode on your local machine. Sadly, in 2020, most of them are not and you won&#x27;t get an IPv6 address by default from your ISP. Usually it is a extra paid service or they simply don&#x27;t offer it.</p><p>Before you begin, check if you have IPv6 <a href="https://test-ipv6.cz/" target="_blank" rel="noopener noreferrer">here</a>. If not, then don&#x27;t waste your time to run a node which won&#x27;t ever be able to mix any packet due to this limitation. Call your ISP and ask for IPv6, there is a plenty of it for everyone!</p><p>If all goes well and you have IPv6 available, then you will need to <code>init</code> the mixnode with an extra flag, <code>--announce-host</code>. You will also need to edit your <code>config.toml</code> file each time your IPv4 address changes, that could be a few days or a few weeks.</p><p>Additional configuration on your router might also be needed to allow traffic in and out to port 1789 and IPv6 support.</p><p>Here is a sample of the <code>init</code> command to create the mixnode config.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">./target/release/nym-mixnode init --id nym-nat --host 0.0.0.0 --announce-host 85.160.12.13 --layer 3</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ul><li><p><code>--host 0.0.0.0</code> should work everytime even if your local machine IPv4 address changes. For example on Monday your router gives your machine an address <code>192.168.0.13</code> and on Wednesday, the DHCP lease will end and you will be asigned <code>192.168.0.14</code>. Using <code>0.0.0.0</code> should avoid this without having to set any static ip in your router`s configuration.</p></li><li><p>you can get your current IPv4 address by either using <code>curl ipinfo.io</code> if you&#x27;re on MacOS or Linux or visiting <a href="https://www.whatsmyip.org/" target="_blank" rel="noopener noreferrer">whatsmyip site</a>. Simply copy it and use it as <code>--anounce-host</code> address.</p></li></ul><p>Make sure you check if your node is really mixing. You will need a bit of luck to set this up from your home behind NAT.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="accidentally-killing-your-node-process-on-exiting-session"></a>Accidentally killing your node process on exiting session<a class="hash-link" href="#accidentally-killing-your-node-process-on-exiting-session" title="Direct link to heading">#</a></h4><p>When you close your current terminal session, you need to make sure you don&#x27;t kill the mixnode process! There are multiple ways on how to make it persistent even after exiting your ssh session, the easiest solution is to use <code>nohup</code>, and the more elegant solution is to run the node with <code>systemd</code>.</p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="running-your-mixnode-as-a-background-process-with-nohup"></a>Running your mixnode as a background process with <code>nohup</code><a class="hash-link" href="#running-your-mixnode-as-a-background-process-with-nohup" title="Direct link to heading">#</a></h5><p><code>nohup</code> is a command with which your terminal is told to ignore the <code>HUP</code> or &#x27;hangup&#x27; signal. This will stop the mixnode process ending if you kill your session.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">nohup</span><span class="token plain"> ./nym-mixnode run --id NYM </span><span class="token comment" style="color:#999988;font-style:italic"># where `--id NYM` is the id you set during the `init` command.</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="running-your-mixnode-as-a-background-process-with-systemd"></a>Running your mixnode as a background process with <code>systemd</code><a class="hash-link" href="#running-your-mixnode-as-a-background-process-with-systemd" title="Direct link to heading">#</a></h5><p>The most reliable and elegant solution is to create a <code>systemd.service</code> file and run the nym-mixnode with <code>systemctl</code> command.</p><p>Create a file with <code>nano</code> at <code>/etc/systemd/system/nym-mixnode.service</code> containing the following:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Unit</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">Description</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">nym mixnode </span><span class="token function" style="color:#d73a49">service</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">After</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">network.target</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Service</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">Type</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">simple</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">User</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">nym                                      </span><span class="token comment" style="color:#999988;font-style:italic"># change as appropriate</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">LimitNOFILE</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">65536</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">ExecStart</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">/home/nym/nym-mixnode run --id nym  </span><span class="token comment" style="color:#999988;font-style:italic"># change as appropriate</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">KillSignal</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">SIGINT</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">Restart</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">on-failure</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">RestartSec</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">30</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">Restart</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">on-abort</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Install</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">WantedBy</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">multi-user.target</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># enable the service</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> systemctl </span><span class="token builtin class-name">enable</span><span class="token plain"> nym-mixnode</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># start the service</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> systemctl start nym-mixnode</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># check if the service is running properly and mixnode is mixing</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> systemctl status nym-mixnode</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Now your node should be mixing all the time, and restart if you reboot your server!</p><p>Anytime you change your <code>systemd</code> service file you need to <code>sudo systemctl daemon-reload</code> in order to restart the service.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="network-configuration-seems-fine-but-log-still-claims-since-startup-mixed-0-packets"></a>Network configuration seems fine but log still claims <code>Since startup mixed 0 packets!</code><a class="hash-link" href="#network-configuration-seems-fine-but-log-still-claims-since-startup-mixed-0-packets" title="Direct link to heading">#</a></h4><p>This behavior is most likely caused by a mismatch between your node configuration and the bonding information. Unbond and then rebond your node via the [web wallet])(<a href="https://testnet-milhon-wallet.nymtech.net/" target="_blank" rel="noopener noreferrer">https://testnet-milhon-wallet.nymtech.net/</a>). The re-bonding procedure does not cost any additional HAL, so you can do it as often as you like.</p><p>Also make sure to enter all the information in the web wallet exactly as it appears in the log when you start the mixnode process. In particular, the <code>host</code> field must contain the <em>port</em> on which your mixnode will listen:</p><ul><li>correct host: <code>34.12.3.43:1789</code></li><li>incorrect host:<code>34.12.3.43</code></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="common-errors-and-warnings"></a>Common errors and warnings<a class="hash-link" href="#common-errors-and-warnings" title="Direct link to heading">#</a></h3><p>Most of the <code>ERROR</code> and <code>WARN</code> messages in your node logs are benign - as long as your node outputs <code>since startup mixed X packets!</code> in your logs (and this number increases over time), your node is mixing packets. If you want to be sure, check the Nym <a href="https://testnet-milhon-explorer.nymtech.net/" target="_blank" rel="noopener noreferrer">dashboard</a> or see other ways on how to check if your node is mixing properly as outlined in the section <strong>How can I tell my node is up and running and mixing traffic?</strong> above.</p><p>More specific errors and warnings are covered below.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="tokio-runtime-worker-error"></a><code>tokio runtime worker</code> error<a class="hash-link" href="#tokio-runtime-worker-error" title="Direct link to heading">#</a></h4><p>If you are running into issues with an error including the following:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">thread </span><span class="token string" style="color:#e3116c">&#x27;tokio-runtime-worker&#x27;</span><span class="token plain"> panicked at </span><span class="token string" style="color:#e3116c">&#x27;Failed to create TCP listener: Os { code: 99, kind: AddrNotAvailable, message: &quot;Cannot assign requested address&quot; }&#x27;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Then you need to <code>--announce-host &lt;public ip&gt;</code> and `<code>--host &lt;local ip&gt;</code> on startup. This issue arises because of your use of a provider like AWS or Google Cloud, and the fact that your VPS&#x27; available bind address is not the same as the public IP address (see <a href="/docs/current/run-nym-nodes/docs/current/run-nym-nodes/mixnodes">Virtual IPs and hosting via Google and AWS</a> for more information on this issue).</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="rocketlaunch-warnings"></a><code>rocket::launch</code> warnings<a class="hash-link" href="#rocketlaunch-warnings" title="Direct link to heading">#</a></h4><p>These warnings are not an issue, please ignore them. Rocket is a web framework for rust which we are using to provide mixnodes with <code>/verloc</code> and <code>/description</code> http APIs.</p><p>Find more information about this in the <a href="/docs/current/run-nym-nodes/docs/current/run-nym-nodes/mixnodes">Mixnodes metrics documentation</a>.</p><p>Rocket runs on port <code>8000</code> by default. Although at this stage of the testnet we need Rocket to be reachable via this port, in the future customization of the particular port it uses will be possible.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="failed-to-receive-reply-to-our-echo-packet-within-15s-stopping-the-test"></a><code>failed to receive reply to our echo packet within 1.5s. Stopping the test</code><a class="hash-link" href="#failed-to-receive-reply-to-our-echo-packet-within-15s-stopping-the-test" title="Direct link to heading">#</a></h4><p>This relates to the VerLoc implementation that appeared in <code>0.10.1</code>, which has a particularly high log sensitivity. This warning means that the echo packet sent to the mixnode was received, but not sent back. <em>This will not affect the rate of rewards or performance metrics of your mixnode in the testnet at this point.</em></p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="connection-to-ip1789-seems-to-be-dead"></a><code>Connection to &lt;IP&gt;:1789 seems to be dead</code><a class="hash-link" href="#connection-to-ip1789-seems-to-be-dead" title="Direct link to heading">#</a></h4><p>This warning is normal at the moment, and is <em>nothing to do with your mixnode!</em> It is simply a warning that your node is unable to connect to other peoples&#x27; mixnodes for some reason, most likely because they are offline or poorly configured.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="can-i-use-a-port-other-than-1789-"></a>Can I use a port other than 1789 ?<a class="hash-link" href="#can-i-use-a-port-other-than-1789-" title="Direct link to heading">#</a></h3><p>Yes! Here is what you will need to do:</p><p>Assuming you would like to use port <code>1337</code> for your mixnode, you need to open the new port (and close the old one):</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> ufw allow </span><span class="token number" style="color:#36acaa">1337</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> ufw deny </span><span class="token number" style="color:#36acaa">1789</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>And then edit the mixnode&#x27;s config.</p><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><p>If you want to change the port for an already running node, you need to stop the process before editing your config file.</p></div></div><p>Assuming your node name is <code>nym</code>, the config file is located at <code>~/.nym/mixnodes/nym/config/config.toml</code>.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">nano ~/.nym/mixnodes/nym/config/config.toml</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>You will need to edit two parts of the file. <code>announce_address</code> and <code>listening_address</code> in the config.toml file. Simply replace <code>:1789</code> (the default port) with <code>:1337</code> (your new port) after your IP address.</p><p>Finally, restart your node. You should see if the mixnode is using the port you have changed in the config.toml file right after you run the node.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="where-can-i-find-my-private-and-public-keys-and-mixnode-config"></a>Where can I find my private and public keys and mixnode config?<a class="hash-link" href="#where-can-i-find-my-private-and-public-keys-and-mixnode-config" title="Direct link to heading">#</a></h3><p>All config and keys files are stored in a directory named after your <code>id</code> which you chose during the <code>init</code> process, and can be found at the following PATH: <code>$HOME/.nym/mixnodes/</code> where <code>$HOME</code> is a home directory of the user (your current user in this case) that launched the mixnode.</p><p>Depending on how you installed Nym, the files will be stored here:</p><ol><li>Autoinstaller - <code>/home/nym/.nym/mixnodes/&lt;YOURNODEID&gt;</code></li><li>Built from source as your user or root - <code>~/.nym/mixnodes/&lt;YOURNODEID&gt;</code></li></ol><p>The directory structure is as follows:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">bob@nym:~$ tree /home/nym/.nym/mixnodes/</span></span><span class="token-line" style="color:#393A34"><span class="token plain">/home/nym/.nym/mixnodes/</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|-- nym010</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|   |-- config</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|   |   `-- config.toml</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|   `-- data</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|       |-- private_identity.pem</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|       |-- private_sphinx.pem</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|       |-- public_identity.pem</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|       `-- public_sphinx.pem</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><p>If you <code>cat</code> the <code>public_sphinx.pem key</code>, the output will be different from the public key you will see on Nym <a href="https://testnet-milhon-explorer.nymtech.net/" target="_blank" rel="noopener noreferrer">dashboard</a>. The reason for this is that <code>.pem</code> files are encoded in <strong>base64</strong>, however on the web they are in <strong>base58</strong>. Don&#x27;t be confused if your keys look different. They are the same keys, just with different encoding :).</p></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="what-is-verloc-and-do-i-have-to-configure-my-mixnode-to-implement-it"></a>What is <code>verloc</code> and do I have to configure my mixnode to implement it?<a class="hash-link" href="#what-is-verloc-and-do-i-have-to-configure-my-mixnode-to-implement-it" title="Direct link to heading">#</a></h3><p><code>verloc</code> is short for <em>verifiable location</em>. Mixnodes and gateways now measure speed-of-light distances to each other, in an attempt to verify how far apart they are. In later releases, this will allow us to algorithmically verify node locations in a non-fakeable and trustworthy manner.</p><p>You don&#x27;t have to do any additional configuration for your node to implement this, it is a passive process that runs in the background of the mixnet from version <code>0.10.1</code> onwards.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="where-can-i-get-more-help"></a>Where can I get more help?<a class="hash-link" href="#where-can-i-get-more-help" title="Direct link to heading">#</a></h3><p>The fastest way to reach one of us or get a help from the community, visit our <a href="https://t.me/nymchan_help_chat" target="_blank" rel="noopener noreferrer">Telegram help chat</a>.</p><p>For more tech heavy questions join our Keybase channel. Get Keybase <a href="https://keybase.io/" target="_blank" rel="noopener noreferrer">here</a>, then click Teams -&gt; Join a team. Type nymtech.friends into the team name and hit continue. For general chat, hang out in the #general channel. Our development takes places in the #dev channel.</p></div><footer class="row docusaurus-mt-lg"><div class="col"></div><div class="col lastUpdated_3DPF">Last updated on <b><time datetime="2021-08-19T17:05:56.000Z">8/19/2021</time></b></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/current/run-nym-nodes/gateways"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Gateways</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/current/use-apps/index"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Use Apps Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#how-can-i-tell-my-node-is-up-and-running-and-mixing-traffic" class="table-of-contents__link">How can I tell my node is up and running and mixing traffic?</a></li><li><a href="#why-is-my-node-not-mixing-any-packets" class="table-of-contents__link">Why is my node not mixing any packets?</a></li><li><a href="#common-errors-and-warnings" class="table-of-contents__link">Common errors and warnings</a></li><li><a href="#can-i-use-a-port-other-than-1789-" class="table-of-contents__link">Can I use a port other than 1789 ?</a></li><li><a href="#where-can-i-find-my-private-and-public-keys-and-mixnode-config" class="table-of-contents__link">Where can I find my private and public keys and mixnode config?</a></li><li><a href="#what-is-verloc-and-do-i-have-to-configure-my-mixnode-to-implement-it" class="table-of-contents__link">What is <code>verloc</code> and do I have to configure my mixnode to implement it?</a></li><li><a href="#where-can-i-get-more-help" class="table-of-contents__link">Where can I get more help?</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><ul class="footer__items"><li class="footer__item"><a href="https://nymtech.net/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://keybase.io/team/nymtech.friends" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Keybase<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><ul class="footer__items"><li class="footer__item"><a href="https://github.com/nymtech" target="_blank" rel="noopener noreferrer" class="footer__link-item" position="right"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://t.me/nymchan" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Telegram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><ul class="footer__items"><li class="footer__item"><a href="https://twitter.com/nymproject/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://medium.com/nymtech" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"></div></div></footer></div>
<script src="/assets/js/runtime~main.eaa180ac.js"></script>
<script src="/assets/js/main.ce1a70fd.js"></script>
</body>
</html>